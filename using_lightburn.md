I have finished my effort into getting my FLUX Beamo to run files generated by LightBurn. I have conducted a very objective test to compare the performance and quality of the engravings done by LightBurn vs Beam Studio.

The results are disappointing for LightBurn. There are two main problems. But first, view this image comparison. The top shows the dithering performed by Beam Studio vs by LightBurn, the bottom shows the result as engraved on plywood.

[![picture](misc/beamstudio_vs_lightburn_dither.fw.png)](misc/beamstudio_vs_lightburn_dither.fw.png)

The first problem for LightBurn is unavoidable: FLUX, the developers behind Beamo and Beam Studio, added a feature into grbl that allows them to stream monochrome bitmaps in 32 bit chunks. LightBurn can only generate plain G-code, which means the same 32 bits (or, 4 bytes) needs 32 lines of G-code to send, at about 10 bytes each (320 bytes for LightBurn, vs 4 bytes for FLUX). The grbl controller will need to also parse these lines of ASCII before being able to set the laser power for each dot. I suspect the FLUX variant of grbl uses some sort of effecient streaming technique, such as using a DMA directly from the bitmap buffer to the DAC or PWM generator.

This first advantage that FLUX is why the FLUX method can achieve a more even gradient, thus the engravings will retain more detail. The LightBurn result simply cannot change the power level of the laser fast enough because it's not using the streaming technique, it has to do it one line at a time instead. Thus the LightBurn result has a huge portion, simply because the laser power supply was told to fire up much later that it should have been.

Before talking about the second problem. Notice that the dithering algorithms between the two programs are very similar. They should be producing the same results. There's no fancy brightness or contrast adjustment that's causing the differences. Also I'd like to point out the yellow lines are "travel" moves, when the laser is off.

The second problem is that the LightBurn algorithm fails to account for end-of-line deacceleration. This is why there's some large burn dots on the left side of the square. The print-head is about to change direction and will slow down before going in the other direction, this causes the laser to linger on those spots for much longer. The best technique to avoid this is to simply overshoot a little bit so that the slow portion of the direction change happens somewhere that the laser does not need to burn.

I have gone through the LightBurn user interface looking for an option to fix this problem but I have not found it.

I am not saying LightBurn is bad software, in fact, it probably works very nicely with a DSP controller like the Ruida. DSP controllers, typically used for audio processing, can essentially stream the image data to the power supply and stepper motors as if they were audio waveforms that has been processed.

But for grbl based lasers like the Beamo, FLUX and Beam Studio wins here, hands down. That little addition to grbl is a serious edge over all original grbl variants. Too bad Beam Studio is so buggy that it drives away power users. I hope the problems get resolved soon.

If you want to play with the tools I used to do all this with, check them out: https://frank26080115.github.io/flux-fcode-tools/
